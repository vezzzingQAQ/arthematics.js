<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>test</title>
    <style>
        *{
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body{
            width: 100vw;
            height: 100vh;
            overflow: hidden;
        }
    </style>
    <script src="../arthematics.js"></script>
    <script>
        window.onload=function(){
            for(let x=0;x<width;x+=width/10){
                for(let y=0;y<height;y+=height/6){
                    createCanvas(x,y,width/10+1,height/6+1,[
                        {parameter:"x",value:x},
                        {parameter:"y",value:y},
                    ]);
                }
            }
            draw(function(){
                for(let i=0;i<canvasList.length;i++){
                    canvasList[i].background(new Color(0,0,0,1));
                    canvasList[i].noStroke();
                    let size=50;
                    let pad=10;
                    let boundxl=canvasList[i].width/2-size;
                    let boundxr=canvasList[i].width/2+size;
                    let boundyt=canvasList[i].height/2-size;
                    let boundyb=canvasList[i].height/2+size;
                    let xl=-2;
                    let xr=2;
                    let yt=-2;
                    let yb=2;
                    for(let ax=boundxl;ax<boundxr;ax+=pad){
                        for(let ay=boundyt;ay<boundyb;ay+=pad){
                            let canvas=canvasList[i];
                            let x=map(ax,boundxl,boundxr,xl,xr);
                            let y=map(ay,boundyt,boundyb,yt,yb);
                            let z=sin(x*canvas.parameters.x+y*canvas.parameters.y+T);
                            //canvas.background(new Color(0));
                            canvas.fill(new Color(
                                map(z,-1,1,0,255),
                                map(x,boundxl,boundxr,220,0),
                                map(y,boundyt,boundyb,255,0)));
                            canvas.circle(ax,ay,abs(z*4));
                        }
                    }
                }
            });
        }
    </script>
</head>
<body>
    
</body>
</html>